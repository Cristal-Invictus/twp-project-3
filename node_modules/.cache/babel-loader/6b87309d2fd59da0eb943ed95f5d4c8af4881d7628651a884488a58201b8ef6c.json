{"ast":null,"code":"import \"core-js/modules/web.dom-exception.stack.js\";\nimport axios from 'axios';\nconst BASE_URL = 'http://localhost:10003/wp-json/wp/v2';\nconst USERNAME = 'Cristal';\nconst PASSWORD = '54l4UuuGhBnG6GY3tIVqhUdU';\nconst AUTH = btoa(`${USERNAME}:${PASSWORD}`);\nconst client = axios.create({\n  baseURL: BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n    Accept: 'application/json',\n    Authorization: `Basic ${AUTH}`\n  }\n});\nfunction handleError(error) {\n  let message = 'Erreur inconnue';\n  let status = null;\n  let details = null;\n  if (error.response) {\n    status = error.response.status;\n    details = error.response.data;\n    switch (status) {\n      case 400:\n        message = 'Requête invalide';\n        break;\n      case 401:\n        message = 'Non autorisé';\n        break;\n      case 403:\n        message = 'Accès interdit';\n        break;\n      case 404:\n        message = 'Ressource non trouvée';\n        break;\n      case 500:\n        message = 'Erreur serveur WordPress';\n        break;\n      default:\n        message = `Erreur HTTP ${status}`;\n    }\n  } else if (error.request) {\n    message = \"WordPress inaccessible. Vérifiez votre connexion et l'URL WordPress.\";\n  } else {\n    message = error.message;\n  }\n  return {\n    message,\n    status,\n    details\n  };\n}\nexport default {\n  async getAll(postId) {\n    try {\n      const response = await client.get(`/comments?post=${postId}&per_page=100`);\n      return {\n        success: true,\n        data: response.data\n      };\n    } catch (error) {\n      console.error('Erreur getAll:', error);\n      return {\n        success: false,\n        error: handleError(error)\n      };\n    }\n  },\n  async create({\n    post,\n    content,\n    author_name,\n    author_email\n  }) {\n    try {\n      const response = await client.post('/comments', {\n        post,\n        content,\n        author_name,\n        author_email\n      });\n      return {\n        success: true,\n        data: response.data\n      };\n    } catch (error) {\n      console.error('Erreur create:', error);\n      return {\n        success: false,\n        error: handleError(error)\n      };\n    }\n  },\n  async update(id, {\n    content\n  }) {\n    try {\n      const response = await client.put(`/comments/${id}`, {\n        content\n      });\n      return {\n        success: true,\n        data: response.data\n      };\n    } catch (error) {\n      console.error('Erreur update:', error);\n      return {\n        success: false,\n        error: handleError(error)\n      };\n    }\n  },\n  async delete(id) {\n    try {\n      const response = await client.delete(`/comments/${id}`);\n      return {\n        success: true,\n        data: response.data\n      };\n    } catch (error) {\n      console.error('Erreur delete:', error);\n      return {\n        success: false,\n        error: handleError(error)\n      };\n    }\n  }\n};","map":{"version":3,"names":["axios","BASE_URL","USERNAME","PASSWORD","AUTH","btoa","client","create","baseURL","headers","Accept","Authorization","handleError","error","message","status","details","response","data","request","getAll","postId","get","success","console","post","content","author_name","author_email","update","id","put","delete"],"sources":["/Users/akoyessoucristal/Rendu/C-DEV-121-COT-1-1-twp-cristal.akoyessou/src/services/commentService.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'http://localhost:10003/wp-json/wp/v2';\nconst USERNAME = 'Cristal';\nconst PASSWORD = '54l4UuuGhBnG6GY3tIVqhUdU';\nconst AUTH = btoa(`${USERNAME}:${PASSWORD}`);\n\nconst client = axios.create({\n  baseURL: BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n    Accept: 'application/json',\n    Authorization: `Basic ${AUTH}`,\n  },\n});\n\nfunction handleError(error) {\n  let message = 'Erreur inconnue';\n  let status = null;\n  let details = null;\n  if (error.response) {\n    status = error.response.status;\n    details = error.response.data;\n    switch (status) {\n      case 400:\n        message = 'Requête invalide'; break;\n      case 401:\n        message = 'Non autorisé'; break;\n      case 403:\n        message = 'Accès interdit'; break;\n      case 404:\n        message = 'Ressource non trouvée'; break;\n      case 500:\n        message = 'Erreur serveur WordPress'; break;\n      default:\n        message = `Erreur HTTP ${status}`;\n    }\n  } else if (error.request) {\n    message = \"WordPress inaccessible. Vérifiez votre connexion et l'URL WordPress.\";\n  } else {\n    message = error.message;\n  }\n  return { message, status, details };\n}\n\nexport default {\n  async getAll(postId) {\n    try {\n      const response = await client.get(`/comments?post=${postId}&per_page=100`);\n      return { success: true, data: response.data };\n    } catch (error) {\n      console.error('Erreur getAll:', error);\n      return { success: false, error: handleError(error) };\n    }\n  },\n  async create({ post, content, author_name, author_email }) {\n    try {\n      const response = await client.post('/comments', { post, content, author_name, author_email });\n      return { success: true, data: response.data };\n    } catch (error) {\n      console.error('Erreur create:', error);\n      return { success: false, error: handleError(error) };\n    }\n  },\n  async update(id, { content }) {\n    try {\n      const response = await client.put(`/comments/${id}`, { content });\n      return { success: true, data: response.data };\n    } catch (error) {\n      console.error('Erreur update:', error);\n      return { success: false, error: handleError(error) };\n    }\n  },\n  async delete(id) {\n    try {\n      const response = await client.delete(`/comments/${id}`);\n      return { success: true, data: response.data };\n    } catch (error) {\n      console.error('Erreur delete:', error);\n      return { success: false, error: handleError(error) };\n    }\n  },\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}